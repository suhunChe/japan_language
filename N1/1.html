<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N1 ì–´íœ˜ ë‰˜ì•™ìŠ¤ íŠ¸ë ˆì´ë‹</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Pretendard:wght@500;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .back-link {
            display: inline-block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #d97706; /* ê³¨ë“œ ìƒ‰ìƒ */
            color: #1c1917; /* ë‹¤í¬ ë°°ê²½ìƒ‰ */
            text-decoration: none;
            border-radius: 8px;
            font-family: 'Pretendard', sans-serif;
            font-weight: bold;
            transition: 0.3s;
            text-align: center;
        }
        .back-link:hover { background-color: #b45309; color: white; transform: translateY(-2px); }
        .top-bar { text-align: center; background-color: #000; padding-top: 10px; }

        /* --- ê¸°ì¡´ ìˆ˜í›ˆë‹˜ CSS ì½”ë“œ (ë°°ê²½ìƒ‰ ì¶”ê°€) --- */
        body { background-color: #000; margin: 0; padding: 0; } /* ì „ì²´ ë‹¤í¬ ëª¨ë“œ */

        .n1-quiz-container {
            font-family: 'Pretendard', 'Noto Sans JP', sans-serif;
            max-width: 800px; margin: 20px auto 40px auto; background: #1c1917; border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); border: 1px solid #44403c; overflow: hidden;
            color: #f5f5f4; min-height: 600px; display: flex; flex-direction: column;
            box-sizing: border-box;
        }
        .n1-quiz-container * { box-sizing: border-box; }

        .quiz-header { background: linear-gradient(90deg, #b45309, #d97706); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; color: white; font-weight: bold; }
        .quiz-body { padding: 40px 30px; flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        
        .question-card { background: #292524; border: 1px solid #57534e; padding: 30px; border-radius: 12px; width: 100%; margin-bottom: 30px; }
        .q-context { font-size: 1.6rem; margin-bottom: 20px; line-height: 1.6; word-break: keep-all; color: #fff; }
        .q-blank { color: #fcd34d; border-bottom: 3px solid #fcd34d; padding: 0 10px; font-weight: 900; }
        
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 100%; max-width: 600px; margin: 0 auto;}
        
        .option-btn { background: #44403c; border: 2px solid #57534e; color: #e7e5e4; padding: 20px; border-radius: 12px; font-size: 1.4rem; font-weight: bold; cursor: pointer; transition: all 0.2s; }
        .option-btn:hover { background: #57534e; border-color: #d97706; color: #fcd34d; transform: translateY(-2px); }
        
        .feedback-box { margin-top: 25px; padding: 20px; border-radius: 10px; text-align: left; width: 100%; max-width: 600px; display: none; background: #0f172a; border-left: 5px solid #3b82f6; animation: slideDown 0.3s; margin-left:auto; margin-right:auto;}
        .feedback-box.correct { border-left-color: #10b981; background: #064e3b; }
        .feedback-box.wrong { border-left-color: #ef4444; background: #450a0a; }
        .fb-title { font-size: 1.2rem; font-weight: 900; margin-bottom: 10px; display: block; }
        .fb-desc { font-size: 1.15rem; line-height: 1.6; color: #e5e7eb; }
        
        .btn-next { margin-top: 20px; background: #d97706; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; display: none; }
        .btn-next:hover { background: #b45309; }

        .result-view { display: none; text-align: center; padding: 40px; color: white; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
        
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
            .q-context { font-size: 1.3rem; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="../index.html" class="back-link">ğŸ”™ ë©”ì¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <div class="n1-quiz-container">
        <div class="quiz-header">
            <div class="quiz-title">âš–ï¸ N1 Vocabulary Nuance Training</div>
            <div class="quiz-progress" id="quiz-progress">1 / 10</div>
        </div>
        <div class="quiz-body" id="quiz-view">
            <div class="question-card"><div class="q-context" id="q-context">ë¬¸ì œ ë¡œë”© ì¤‘...</div></div>
            <div class="options-grid" id="options-area"></div>
            <div class="feedback-box" id="feedback-box">
                <span class="fb-title" id="fb-title"></span>
                <div class="fb-desc" id="fb-desc"></div>
            </div>
            <button class="btn-next" id="btn-next">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
        </div>
        <div class="result-view" id="result-view">
            <div class="score-big" id="final-score" style="font-size: 4rem; font-weight: 900; color: #fcd34d; margin-bottom: 20px;">0ì </div>
            <p id="result-comment" style="margin-bottom:30px; font-size:1.2rem;"></p>
            <button onclick="location.reload()" style="background:#44403c; color:white; border:1px solid #d97706; padding:10px 20px; border-radius:8px; cursor:pointer; font-weight: bold; font-family: 'Pretendard', sans-serif;">â†º ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const quizData = [
            { q: "æœ€æ–°é‹­ã®æ©Ÿæ¢°ã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["åˆ¶ä½œ", "è£½ä½œ"], answer: 1, desc: "ì •ë‹µ: <strong>è£½ä½œ (ã›ã„ã•ã)</strong><br>ì‹¤ìš©ì ì¸ ë¬¼ê±´ì´ë‚˜ ê¸°ê³„, ë¶€í’ˆ ë“±ì„ ë§Œë“œëŠ” ê³µì—…ì  í™œë™ì—ëŠ” 'è£½ä½œ'ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ì˜í™”, ê·¸ë¦¼ ë“± ì˜ˆìˆ ì  ì°½ì‘ì€ 'åˆ¶ä½œ'ë¥¼ ì”ë‹ˆë‹¤." },
            { q: "å¹¸ç¦ã® <span class='q-blank'>( ? )</span>ã«ä¸€ç”Ÿã‚’æ§ã’ã‚‹ã€‚", options: ["æ¢æ±‚", "æ¢ç©¶"], answer: 0, desc: "ì •ë‹µ: <strong>æ¢æ±‚ (ãŸã‚“ãã‚…ã†)</strong><br>í–‰ë³µ, í‰í™” ë“± ì¶”ìƒì ì¸ ê°€ì¹˜ë¥¼ ì°¾ì•„ êµ¬í•¨ì—ëŠ” 'æ¢æ±‚'ê°€ ì í•©í•©ë‹ˆë‹¤.", nuance: "ì°¸ê³ : í•™ë¬¸ì´ë‚˜ ì§„ë¦¬ë¥¼ íŒŒê³ ë“¤ì–´ ì—°êµ¬í•  ë•ŒëŠ” 'æ¢ç©¶'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì • (å¹¸ç¦ì˜, ë°”ì¹˜ë‹¤ -> ì¼ë³¸ì–´ ì›ë¬¸ìœ¼ë¡œ ë³€ê²½)
            { q: "æ±šè·äº‹ä»¶ã®åŸå› ã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["è¿½æ±‚", "è¿½åŠ"], answer: 1, desc: "ì •ë‹µ: <strong>è¿½åŠ (ã¤ã„ãã‚…ã†)</strong><br>ì±…ì„ì´ë‚˜ ì›ì¸ ë“±ì„ ëê¹Œì§€ ë’¤ì«“ì•„ ë”°ì§ˆ ë•ŒëŠ” 'è¿½åŠ'ì„ ì”ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ì´ìƒì´ë‚˜ ì´ìµì„ ì«“ì•„ êµ¬í•  ë•ŒëŠ” 'è¿½æ±‚'ã‚’ ì‚¬ìš©í•©ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "å€‹äººã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["ä¿éšœ", "ä¿è¨¼"], answer: 0, desc: "ì •ë‹µ: <strong>ä¿éšœ (ã»ã—ã‚‡ã†)</strong><br>ê¶Œë¦¬ë‚˜ ì´ìµ ë“±ì´ ì¹¨í•´ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸í•¨ì€ 'ä¿éšœ'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : í’ˆì§ˆì´ë‚˜ ì¸ë¬¼ì´ í‹€ë¦¼ì—†ìŒì„ ë³´ì¦í•¨ì€ 'ä¿è¨¼'ì…ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "å¸‚å ´ã‚’å¸‚æ°‘ã« <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["é–‹æ”¾", "è§£æ”¾"], answer: 0, desc: "ì •ë‹µ: <strong>é–‹æ”¾ (ã‹ã„ã»ã†)</strong><br>ê¸ˆì§€ëœ ì¥ì†Œë¥¼ ì¶œì…í•  ìˆ˜ ìˆê²Œ ì—´ì–´ ë†“ìŒì€ 'é–‹æ”¾'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : êµ¬ì†ì´ë‚˜ ì†ë°•ì—ì„œ ë²—ì–´ë‚˜ê²Œ í•¨ì€ 'è§£æ”¾'ì…ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "ç›¸æ‰‹ã®æ°—é…ã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["æ„ŸçŸ¥", "é–¢çŸ¥"], answer: 0, desc: "ì •ë‹µ: <strong>æ„ŸçŸ¥ (ã‹ã‚“ã¡)</strong><br>ë¯¸ë¬˜í•œ ì›€ì§ì„ì´ë‚˜ ë‚Œìƒˆë¥¼ ëŠë‚„ ë•ŒëŠ” 'æ„ŸçŸ¥'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ê´€ì—¬í•˜ì—¬ ì•Œë‹¤ë¼ëŠ” ëœ»ì˜ 'é–¢çŸ¥'ëŠ” ì£¼ë¡œ ë¶€ì •í˜•(é–¢çŸ¥ã—ãªã„)ìœ¼ë¡œ ì”ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "æœªçŸ¥ã®é ˜åŸŸã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["é–‹æ‹“", "é–‹å¢¾"], answer: 0, desc: "ì •ë‹µ: <strong>é–‹æ‹“ (ã‹ã„ãŸã)</strong><br>ìƒˆë¡œìš´ ë¶„ì•¼ë‚˜ íŒë¡œë¥¼ ì—´ì–´ ë‚˜ê°ì€ 'é–‹æ‹“'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ê±°ì¹œ ë•…ì„ ì¼êµ¬ì–´ ë…¼ë°­ì„ ë§Œë“œëŠ” ë†ê²½ì  í–‰ìœ„ëŠ” 'é–‹å¢¾'ã§ã™." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "å›½å®¶çµŒæ¸ˆã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["æ›´æ­£", "æ›´ç”Ÿ"], answer: 0, desc: "ì •ë‹µ: <strong>æ›´æ­£ (ã“ã†ã›ã„)</strong><br>ì˜ëª»ëœ ë¶€ë¶„ì„ ë°”ë¡œì¡ê±°ë‚˜ ë‹¤ì‹œ ê³ ì¹¨ì€ 'æ›´æ­£'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ë‚˜ìœ ìƒí™œ íƒœë„ë¥¼ ë²„ë¦¬ê³  ë‹¤ì‹œ íƒœì–´ë‚¨ì€ 'æ›´ç”Ÿ'ã§ã™." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "æ•µã®ä¾µç•¥ã« <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["æŠ—æˆ¦", "æŠ—è­°"], answer: 0, desc: "ì •ë‹µ: <strong>æŠ—æˆ¦ (ã“ã†ã›ã‚“)</strong><br>ë¬´ë ¥ìœ¼ë¡œ ì ì˜ ê³µê²©ì— ë§ì„œ ì‹¸ì›€ì€ 'æŠ—æˆ¦'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ë¶€ë‹¹í•œ ê²°ì •ì— ë°˜ëŒ€ ì˜ê²¬ì„ ë‚´ì„¸ì›€ì€ 'æŠ—è­°'ì…ë‹ˆë‹¤." }, // ì˜¤íƒ€ ìˆ˜ì •
            { q: "å…¬æ–‡æ›¸ã‚’ <span class='q-blank'>( ? )</span>ã™ã‚‹ã€‚", options: ["å»ƒæ£„", "ç ´æ£„"], answer: 1, desc: "ì •ë‹µ: <strong>ç ´æ£„ (ã¯ã)</strong><br>ê³„ì•½, ì¡°ì•½, ë¬¸ì„œ ë“±ì„ ë¬´íš¨ë¡œ ë§Œë“¤ì–´ ë²„ë¦¼ì€ 'ç ´æ£„'ì…ë‹ˆë‹¤.", nuance: "ì°¸ê³ : ì“°ë ˆê¸°ë‚˜ íê¸°ë¬¼ì„ ë²„ë¦¬ëŠ” í–‰ìœ„ëŠ” 'å»ƒæ£„'ì…ë‹ˆë‹¤." } // ì˜¤íƒ€ ìˆ˜ì •
        ];

        let currentIdx = 0; let score = 0;
        const els = { 
            progress: document.getElementById('quiz-progress'), 
            context: document.getElementById('q-context'), 
            optionsArea: document.getElementById('options-area'), 
            feedbackBox: document.getElementById('feedback-box'), 
            fbTitle: document.getElementById('fb-title'), 
            fbDesc: document.getElementById('fb-desc'), 
            btnNext: document.getElementById('btn-next'), 
            quizView: document.getElementById('quiz-view'), 
            resultView: document.getElementById('result-view'), 
            finalScore: document.getElementById('final-score'), 
            resultComment: document.getElementById('result-comment') 
        };

        function loadQuestion() {
            const data = quizData[currentIdx];
            els.progress.innerText = `${currentIdx + 1} / ${quizData.length}`;
            els.context.innerHTML = data.q;
            els.optionsArea.innerHTML = '';
            els.feedbackBox.style.display = 'none';
            els.btnNext.style.display = 'none';
            
            data.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn'; 
                btn.innerText = opt;
                btn.onclick = () => {
                    const isCor = (idx === data.answer);
                    if(isCor) score++;
                    els.feedbackBox.style.display = 'block';
                    els.feedbackBox.className = `feedback-box ${isCor ? 'correct' : 'wrong'}`;
                    els.fbTitle.innerText = isCor ? "â­• Correct" : "âŒ Incorrect";
                    els.fbDesc.innerHTML = data.desc + "<br><br><span style='color:#fcd34d;'>" + data.nuance + "</span>"; // ë‰˜ì•™ìŠ¤ ë¶€ë¶„ ìƒ‰ìƒ í¬ì¸íŠ¸
                    els.btnNext.style.display = 'inline-block';
                    els.optionsArea.style.pointerEvents = 'none';
                    
                    // ì˜¤ë‹µì¼ ê²½ìš° ì •ë‹µ ë²„íŠ¼ ê°•ì¡°
                    if (!isCor) {
                        btn.style.backgroundColor = '#450a0a';
                        btn.style.borderColor = '#ef4444';
                        els.optionsArea.children[data.answer].style.backgroundColor = '#064e3b';
                        els.optionsArea.children[data.answer].style.borderColor = '#10b981';
                    } else {
                        btn.style.backgroundColor = '#064e3b';
                        btn.style.borderColor = '#10b981';
                    }
                };
                els.optionsArea.appendChild(btn);
            });
            els.optionsArea.style.pointerEvents = 'auto';
        }

        els.btnNext.onclick = () => {
            currentIdx++;
            if (currentIdx < quizData.length) loadQuestion();
            else {
                els.quizView.style.display = 'none';
                els.resultView.style.display = 'flex';
                els.finalScore.innerText = `${(score/quizData.length)*100}ì `;
                els.resultComment.innerText = score >= 8 ? "N1 í•©ê²©ì´ ê¸°ëŒ€ë˜ëŠ” ìˆ˜ì¤€ì…ë‹ˆë‹¤. ì™„ë²½í•©ë‹ˆë‹¤!" : "ìœ ì˜ì–´ ë‰˜ì•™ìŠ¤ í•™ìŠµì— ë” ì§‘ì¤‘í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.";
            }
        };
        
        loadQuestion();
    });
    </script>
</body>
</html>
