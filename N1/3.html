<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N1 í—·ê°ˆë¦¬ëŠ” í•œì ì°¾ê¸°</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Pretendard:wght@500;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .back-link {
            display: inline-block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #d97706; /* ê³¨ë“œ ìƒ‰ìƒ */
            color: #1c1917; /* ë‹¤í¬ ë°°ê²½ìƒ‰ */
            text-decoration: none;
            border-radius: 8px;
            font-family: 'Pretendard', sans-serif;
            font-weight: bold;
            transition: 0.3s;
            text-align: center;
        }
        .back-link:hover { background-color: #b45309; color: white; transform: translateY(-2px); }
        .top-bar { text-align: center; background-color: #000; padding-top: 10px; }

        /* --- ê¸°ì¡´ ìˆ˜í›ˆë‹˜ CSS ì½”ë“œ --- */
        body { background-color: #000; margin: 0; padding: 0; } /* ì „ì²´ ë‹¤í¬ ëª¨ë“œ */

        .n1-kanji-container {
            font-family: 'Pretendard', 'Noto Sans JP', sans-serif;
            max-width: 800px; margin: 20px auto 40px auto; background: #1c1917; border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); border: 1px solid #44403c; overflow: hidden;
            color: #f5f5f4; min-height: 600px; display: flex; flex-direction: column;
            box-sizing: border-box;
        }
        .n1-kanji-container * { box-sizing: border-box; }

        .quiz-header { background: linear-gradient(90deg, #b45309, #d97706); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; color: white; font-weight: bold; }
        .quiz-body { padding: 40px 30px; flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        
        .question-card { background: #292524; border: 1px solid #57534e; padding: 30px; border-radius: 12px; width: 100%; margin-bottom: 30px; }
        .kanji-word { font-size: 2.5rem; font-weight: bold; margin-bottom: 15px; color: #fff; letter-spacing: 2px; }
        .kanji-meaning { font-size: 1.2rem; color: #a8a29e; margin-bottom: 10px; }
        .q-blank { color: #fcd34d; border-bottom: 3px solid #fcd34d; padding: 0 5px; display: inline-block; min-width: 50px; }
        
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; max-width: 500px; margin: 0 auto; }
        .option-btn { background: #44403c; border: 2px solid #57534e; color: #e7e5e4; padding: 15px; border-radius: 12px; font-size: 3rem; font-weight: bold; cursor: pointer; transition: all 0.2s; font-family: 'Noto Sans JP', sans-serif; }
        .option-btn:hover { background: #57534e; border-color: #d97706; color: #fcd34d; transform: scale(1.05); }
        
        .feedback-box { margin-top: 25px; padding: 20px; border-radius: 10px; text-align: left; width: 100%; max-width: 600px; display: none; background: #0f172a; border-left: 5px solid #3b82f6; animation: slideDown 0.3s; margin-left: auto; margin-right: auto; }
        .feedback-box.correct { border-left-color: #10b981; background: #064e3b; }
        .feedback-box.wrong { border-left-color: #ef4444; background: #450a0a; }
        .fb-title { font-size: 1.2rem; font-weight: 900; margin-bottom: 10px; display: block; }
        .fb-desc { font-size: 1.15rem; line-height: 1.6; color: #e5e7eb; }
        
        .btn-next { margin-top: 20px; background: #d97706; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; display: none; }
        .btn-next:hover { background: #b45309; }

        .result-view { display: none; text-align: center; padding: 40px; color: white; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
        
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr 1fr; gap: 10px;}
            .option-btn { font-size: 2.5rem; padding: 10px; }
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <a href="../index.html" class="back-link">ğŸ”™ ë©”ì¸ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <div class="n1-kanji-container">
        <div class="quiz-header">
            <div class="quiz-title">ğŸ§ N1 Kanji Mistake Finder</div>
            <div class="quiz-progress" id="quiz-progress">1 / 10</div>
        </div>
        <div class="quiz-body" id="quiz-view">
            <div class="question-card">
                <div class="kanji-meaning" id="q-meaning">ì˜ë¯¸: ë¯¸ë¬˜í•˜ë‹¤ (ì•Œ ë“¯ ë§ ë“¯ í•˜ë‹¤)</div>
                <div class="kanji-word" id="q-word"><span class="q-blank">?</span>å¦™</div>
            </div>
            <div class="options-grid" id="options-area"></div>
            <div class="feedback-box" id="feedback-box">
                <span class="fb-title" id="fb-title"></span>
                <div class="fb-desc" id="fb-desc"></div>
            </div>
            <button class="btn-next" id="btn-next">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
        </div>
        <div class="result-view" id="result-view">
            <div class="score-big" id="final-score" style="font-size: 4rem; font-weight: 900; color: #fcd34d; margin-bottom: 20px;">0ì </div>
            <p id="result-comment" style="margin-bottom:30px; font-size:1.2rem;"></p>
            <button onclick="location.reload()" style="background:#44403c; color:white; border:1px solid #d97706; padding:10px 20px; border-radius:8px; cursor:pointer; font-weight: bold; font-family: 'Pretendard', sans-serif;">â†º ë‹¤ì‹œ í•™ìŠµí•˜ê¸°</button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const quizData = [
            { 
                meaning: "ë¯¸ë¬˜í•˜ë‹¤ (ì•Œ ë“¯ ë§ ë“¯ í•˜ë‹¤)", 
                wordTemplate: "<span class='q-blank'>?</span>å¦™", 
                options: ["å¾®", "å¾´"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>å¾®å¦™ (ã³ã¿ã‚‡ã†)</strong><br>'ì‘ì„ ë¯¸(å¾®)'ë¥¼ ì”ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: å¾´(ë¶€ë¥¼ ì§•) - å¾´å(ì§•ìˆ˜), ç‰¹å¾´(íŠ¹ì§•) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ì² ê±°í•˜ë‹¤ (ê±°ë‘ì–´ ì¹˜ìš°ë‹¤)", 
                wordTemplate: "<span class='q-blank'>?</span>å»", 
                options: ["æ’¤", "å¾¹"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>æ’¤å» (ã¦ã£ãã‚‡)</strong><br>'ê±°ë‘˜ ì² (æ’¤)'ì€ ì†ìˆ˜ë³€(æ‰Œ)ì´ ìˆìŠµë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: å¾¹(í†µí•  ì² ) - å¾¹åº•(ì² ì €), å¾¹å¤œ(ì² ì•¼) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ëª¨ë°˜ (ë°˜ì—­ì„ ê¾€í•¨)", 
                wordTemplate: "<span class='q-blank'>?</span>å", 
                options: ["æŸ", "è¬€"], 
                answer: 1, 
                desc: "ì •ë‹µ: <strong>è¬€å (ã‚€ã»ã‚“)</strong><br>'ê¾€í•  ëª¨(è¬€)'ëŠ” ë§ì”€ì–¸(è¨€) ë³€ì´ ìˆìŠµë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: æŸ(ì•„ë¬´ ëª¨) - æŸæ°(ëª¨ì”¨), æŸæ‰€(ëª¨ì²˜) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ìˆ­ë°°í•˜ë‹¤ (ìš°ëŸ¬ëŸ¬ ê³µê²½í•˜ë‹¤)", 
                wordTemplate: "<span class='q-blank'>?</span>æ‹", 
                options: ["å´‡", "ç¥Ÿ"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>å´‡æ‹ (ã™ã†ã¯ã„)</strong><br>'ë†’ì„ ìˆ­(å´‡)'ì€ ë«¼ ì‚°(å±±) ë¨¸ë¦¬ì…ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: ç¥Ÿ(ë¹Œ ìˆ˜/ì¬ì•™) - ç¥Ÿã‚Š(íƒ€íƒ€ë¦¬/ì¬ì•™) ë“±ì— ì“°ì…ë‹ˆë‹¤. (ë³´ì¼ ì‹œç¤º ë³€)"
            },
            { 
                meaning: "ì¡°ì¹˜ (ì¼ì„ ì²˜ë¦¬í•¨)", 
                wordTemplate: "<span class='q-blank'>?</span>ç½®", 
                options: ["æª", "éŒ¯"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>æªç½® (ãã¡)</strong><br>'ë‘˜ ì¡°(æª)'ëŠ” ì†ìˆ˜ë³€(æ‰Œ)ì…ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: éŒ¯(ì„ì¼ ì°©) - éŒ¯è¦š(ì°©ê°), éŒ¯ä¹±(ì°©ë€) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ì„ ìœ¨ (ë©œë¡œë””)", 
                wordTemplate: "<span class='q-blank'>?</span>å¾‹", 
                options: ["æ—‹", "æ–½"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>æ—‹å¾‹ (ã›ã‚“ã‚Šã¤)</strong><br>'ëŒ ì„ (æ—‹)'ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: æ–½(ë² í’€ ì‹œ) - æ–½è¨­(ì‹œì„¤), å®Ÿæ–½(ì‹¤ì‹œ) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ë¶„ê°œí•˜ë‹¤ (ëª¹ì‹œ ì„±ë‚´ë‹¤)", 
                wordTemplate: "<span class='q-blank'>?</span>æ…¨", 
                options: ["å¢³", "æ†¤"], 
                answer: 1, 
                desc: "ì •ë‹µ: <strong>æ†¤æ…¨ (ãµã‚“ãŒã„)</strong><br>'ê²° ë‚¼ ë¶„(æ†¤)'ì€ ë§ˆìŒì‹¬(å¿„) ë³€ì´ ìˆìŠµë‹ˆë‹¤. ê°ì •ê³¼ ê´€ë ¨ë©ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: å¢³(ë¬´ë¤ ë¶„) - å¤å¢³(ê³ ë¶„) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ìš”ì½”ì¦ˆë‚˜ (ì”¨ë¦„ì˜ ì²œí•˜ì¥ì‚¬/êµµì€ ë°§ì¤„)", 
                wordTemplate: "æ¨ª<span class='q-blank'>?</span>", 
                options: ["ç¶±", "ç¶²"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>æ¨ªç¶± (ã‚ˆã“ã¥ãª)</strong><br>'ë²¼ë¦¬ ê°•(ç¶±)'ì€ ë°§ì¤„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: ç¶²(ê·¸ë¬¼ ë§) - é€šä¿¡ç¶²(í†µì‹ ë§) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ìœ ë„í•˜ë‹¤ (ì´ëŒë‹¤)", 
                wordTemplate: "<span class='q-blank'>?</span>å°", 
                options: ["é€", "èª˜"], 
                answer: 1, 
                desc: "ì •ë‹µ: <strong>èª˜å° (ã‚†ã†ã©ã†)</strong><br>'ê¿¸ ìœ (èª˜)'ëŠ” ë§ì”€ì–¸(è¨€) ë³€ì…ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: é€(íˆ¬ëª…í•  íˆ¬) - é€æ˜(íˆ¬ëª…), æµ¸é€(ì¹¨íˆ¬) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            },
            { 
                meaning: "ì‹œë…€ (ëª¨ì‹œëŠ” ì—¬ì)", 
                wordTemplate: "<span class='q-blank'>?</span>å¥³", 
                options: ["ä¾", "å¾…"], 
                answer: 0, 
                desc: "ì •ë‹µ: <strong>ä¾å¥³ (ã˜ã˜ã‚‡)</strong><br>'ëª¨ì‹¤ ì‹œ(ä¾)'ëŠ” ì‚¬ëŒì¸(ã‚¤) ë³€ì— ì ˆ ì‚¬(å¯º)ì…ë‹ˆë‹¤. <br>âš ï¸ ì˜¤ë‹µ: å¾…(ê¸°ë‹¤ë¦´ ëŒ€) - æ‹›å¾…(ì´ˆëŒ€), å¾…æ©Ÿ(ëŒ€ê¸°) ë“±ì— ì“°ì…ë‹ˆë‹¤."
            }
        ];

        let currentIdx = 0; let score = 0;
        const els = { 
            progress: document.getElementById('quiz-progress'), 
            meaning: document.getElementById('q-meaning'), 
            word: document.getElementById('q-word'), 
            optionsArea: document.getElementById('options-area'), 
            feedbackBox: document.getElementById('feedback-box'), 
            fbTitle: document.getElementById('fb-title'), 
            fbDesc: document.getElementById('fb-desc'), 
            btnNext: document.getElementById('btn-next'), 
            quizView: document.getElementById('quiz-view'), 
            resultView: document.getElementById('result-view'), 
            finalScore: document.getElementById('final-score'), 
            resultComment: document.getElementById('result-comment') 
        };

        function loadQuestion() {
            const data = quizData[currentIdx];
            els.progress.innerText = `${currentIdx + 1} / ${quizData.length}`;
            els.meaning.innerText = `ì˜ë¯¸: ${data.meaning}`;
            els.word.innerHTML = data.wordTemplate;
            els.optionsArea.innerHTML = '';
            els.feedbackBox.style.display = 'none';
            els.btnNext.style.display = 'none';
            
            data.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn'; 
                btn.innerText = opt;
                btn.onclick = () => {
                    const isCor = (idx === data.answer);
                    if(isCor) score++;
                    els.feedbackBox.style.display = 'block';
                    els.feedbackBox.className = `feedback-box ${isCor ? 'correct' : 'wrong'}`;
                    els.fbTitle.innerText = isCor ? "â­• Correct" : "âŒ Incorrect";
                    els.fbDesc.innerHTML = data.desc;
                    els.btnNext.style.display = 'inline-block';
                    els.optionsArea.style.pointerEvents = 'none';

                    // ì˜¤ë‹µì¼ ê²½ìš° ì •ë‹µ ë²„íŠ¼ ê°•ì¡°
                    if (!isCor) {
                        btn.style.backgroundColor = '#450a0a';
                        btn.style.borderColor = '#ef4444';
                        els.optionsArea.children[data.answer].style.backgroundColor = '#064e3b';
                        els.optionsArea.children[data.answer].style.borderColor = '#10b981';
                    } else {
                        btn.style.backgroundColor = '#064e3b';
                        btn.style.borderColor = '#10b981';
                    }
                };
                els.optionsArea.appendChild(btn);
            });
            els.optionsArea.style.pointerEvents = 'auto';
        }

        els.btnNext.onclick = () => {
            currentIdx++;
            if (currentIdx < quizData.length) loadQuestion();
            else {
                els.quizView.style.display = 'none';
                els.resultView.style.display = 'flex';
                els.finalScore.innerText = `${(score/quizData.length)*100}ì `;
                els.resultComment.innerText = score >= 8 ? "ë§¤ì§ì•„ì´ê¸‰ í•œì ì‹ë³„ ëŠ¥ë ¥ì…ë‹ˆë‹¤! í•©ê²©!" : "ë¹„ìŠ·í•œ í•œìì— ì†ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.";
            }
        };
        
        loadQuestion();
    });
    </script>
</body>
</html>
